{"version":3,"file":"static/webpack/static/development/pages/projects.js.2dcbcbeb2c6ea336f5f5.hot-update.js","sources":["webpack:///./pages/projects/index.js"],"sourcesContent":["import React, { Component, createRef } from \"react\";\nimport factory from \"../../ethereum/factoryContract\";\nimport Layout from \"../../components/layouts\";\nimport { Card, Sticky, Grid, Ref, Segment, Checkbox } from \"semantic-ui-react\";\nimport { Link } from \"../../routes\";\nimport ProjectCard from \"../../components/ProjectCard\";\n\nexport default class ProjectIndex extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      projects: [],\n      searchTerm: \"\",\n      fundedFilter: false,\n      fundingFilter: false\n    };\n  }\n\n  componentDidMount() {\n    const projects = this.props.allProjects.filter(\n      project => project.status === \"deployed\" || project.status === \"funded\"\n    );\n    this.setState({ projects: projects });\n    this.setState({ filteredProjects: projects });\n  }\n\n  setProjects = projects => {\n    this.setState({ allprojects: projects });\n  };\n\n  filteredProjects = () => {\n    let filterResults = this.props.allProjects.filter(project =>\n      project.title.toLowerCase().includes(this.state.searchTerm)\n    );\n    if (this.state.fundingFilter) {\n      filterResults.filter(project => project.status === \"deployed\");\n    }\n    return filterResults;\n  };\n\n  handleSearch = e => {\n    const searchTerm = e.target.value.toLowerCase();\n    this.setState({ searchTerm });\n  };\n\n  handleFilter = filterType => {\n    this.setState({ [filterType]: !this.state[filterType] });\n  };\n\n  contextRef = createRef();\n\n  render() {\n    return (\n      <div style={{ marginTop: \"20px\" }}>\n        <h1>All Projects</h1>\n        <Grid stackable columns={2}>\n          <Grid.Column width={4}>\n            <Sticky context={this.contextRef}>\n              <div\n                className=\"ui vertical menu left floated\"\n                style={{ marginTop: 20 }}>\n                <div className=\"item\">\n                  <div className=\"ui input\">\n                    <input\n                      onChange={this.handleSearch}\n                      type=\"text\"\n                      placeholder=\"Search...\"\n                    />\n                  </div>\n                </div>\n                <div className=\"item\">\n                  See only\n                  <div className=\"menu\">\n                    <Checkbox\n                      className=\"item\"\n                      label={{ children: \"Awaiting funding\" }}\n                      onClick={e => this.handleFilter(\"fundingFilter\")}\n                    />\n                    <Checkbox\n                      className=\"item\"\n                      label={{ children: \"Funded\" }}\n                      onClick={e => this.handleFilter(\"fundedFilter\")}\n                    />\n                  </div>\n                </div>\n                <div className=\"item\">\n                  Sort By\n                  <div className=\"menu\">\n                    <a className=\"item\">Supporters</a>\n                    <a className=\"item\">Backing</a>\n                  </div>\n                </div>\n              </div>\n            </Sticky>\n          </Grid.Column>\n          <Grid.Column stackable width={12}>\n            <Card.Group itemsPerRow={3}>\n              {this.filteredProjects().map((project, i) => (\n                <ProjectCard\n                  key={i}\n                  project={project}\n                  selectProject={this.props.selectProject}\n                />\n              ))}\n            </Card.Group>\n          </Grid.Column>\n        </Grid>\n      </div>\n    );\n  }\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AACA;AAAA;AACA;AADA;AACA;AAAA;AACA;AAFA;AAoBA;AAAA;AAAA;AACA;AACA;AAtBA;AAwBA;AAAA;AAAA;AACA;AAEA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AACA;AAhCA;AAkCA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AArCA;AAuCA;AACA;AACA;AAzCA;AACA;AAEA;AACA;AACA;AACA;AACA;AAJA;AAHA;AASA;AACA;;;AACA;AACA;AACA;AAAA;AAEA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;;;AA2BA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAEA;AACA;AAAA;AAAA;AAFA;AAGA;AAAA;AACA;AAAA;AAEA;AACA;AACA;AAHA;AAOA;AAAA;AAEA;AAAA;AAEA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAHA;AAMA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAHA;AAOA;AAAA;AAEA;AAAA;AACA;AAAA;AACA;AAAA;AAMA;AAAA;AAAA;AACA;AAAA;AACA;AAEA;AACA;AACA;AAHA;AADA;AAYA;;;;AAvGA;AACA;;;;;A","sourceRoot":""}