{"version":3,"file":"static/webpack/static/development/pages/projects/createProject.js.3328b71e66925c8d033b.hot-update.js","sources":["webpack:///./pages/projects/createProject.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport factory from \"../../ethereum/factoryContract\";\nimport {\n  Button,\n  Checkbox,\n  Form,\n  Input,\n  Dropdown,\n  Message,\n  Segment,\n  Dimmer,\n  Loader\n} from \"semantic-ui-react\";\nimport Layout from \"../../components/layouts\";\nimport web3 from \"../../ethereum/web3\";\n\nexport default class createProject extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      errorMessage: \"\",\n      creatingProject: false\n    };\n  }\n\n  handleSubmit = async e => {\n    e.persist();\n    e.preventDefault();\n    const accounts = await web3.eth.getAccounts();\n    const projectTitle = e.target.projectTitle.value;\n    const minimumContribution = e.target.minimumContribution.value;\n\n    console.log(`Project Title: ${projectTitle}`);\n    console.log(`Minimum Contribution: ${minimumContribution}`);\n\n    this.setState({ creatingProject: true });\n    try {\n      await factory.methods\n        .createCampaign(minimumContribution)\n        .send({ from: accounts[0] });\n    } catch (thrownError) {\n      this.setState({ errorMessage: thrownError.message });\n    }\n    this.setState({ creatingProject: false });\n  };\n\n  //Render the createProject component\n  render() {\n    const formOptions = [\n      { key: \"wei\", text: \"wei\", value: \"wei\" },\n      { key: \"ether\", text: \"Îž ether\", value: \"ether\" }\n    ];\n\n    return (\n      <Layout>\n        <div>\n          <h3>Create a new project in the form below:</h3>\n          <Segment>\n            <Dimmer active>\n              <Loader indeterminate>\n                Attempting to deploy project's contract into the Ethereum.\n                blockchain\n                <br />\n                Please wait...\n              </Loader>\n            </Dimmer>\n\n            <Form\n              onSubmit={this.handleSubmit}\n              error={!!this.state.errorMessage}>\n              <Form.Field name=\"projectTitle\">\n                <label>Project Title</label>\n                <Input name=\"projectTitle\" placeholder=\"Project Title\" />\n              </Form.Field>\n              <Form.Field>\n                <label>Minimum Contribution</label>\n                <Input\n                  name=\"minimumContribution\"\n                  label={<Dropdown defaultValue=\"wei\" options={formOptions} />}\n                  labelPosition=\"right\"\n                  placeholder=\"Minimum Contribution\"\n                />\n              </Form.Field>\n              <Form.Field>\n                <Checkbox label=\"I agree to the Terms and Conditions\" />\n              </Form.Field>\n              <Message\n                color=\"red\"\n                size=\"small\"\n                compact\n                warning\n                error\n                header=\"Oh oh!\"\n                content={this.state.errorMessage}\n              />\n              <br />\n              <Button type=\"submit\">Create Project</Button>\n            </Form>\n          </Segment>\n        </div>\n      </Layout>\n    );\n  }\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AAWA;AACA;AACA;AACA;;;;;AACA;AAAA;AACA;AADA;AACA;AAAA;AACA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAFA;AAAA;AACA;AADA;AAGA;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAXA;AAAA;AAAA;AAcA;AAAA;AACA;AAfA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AAeA;AAAA;AAAA;AACA;AAjBA;AAkBA;AAAA;AAAA;AACA;AAnBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAVA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AAFA;AAHA;AAOA;AACA;;;AAsBA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AACA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;;;;AAvFA;AACA;;;;;A","sourceRoot":""}