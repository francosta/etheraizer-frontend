{"version":3,"file":"static/webpack/static/development/pages/_app.js.663ab64aff15f6dce7f5.hot-update.js","sources":["webpack:///./node_modules/@babel/runtime-corejs2/core-js/object/get-own-property-descriptor.js","webpack:///./node_modules/@babel/runtime-corejs2/core-js/object/get-own-property-symbols.js","webpack:///./node_modules/@babel/runtime-corejs2/helpers/esm/objectSpread.js","webpack:///./node_modules/core-js/library/fn/object/get-own-property-descriptor.js","webpack:///./node_modules/core-js/library/fn/object/get-own-property-symbols.js","webpack:///./node_modules/core-js/library/modules/es6.object.get-own-property-descriptor.js","webpack:///./pages/_app.js"],"sourcesContent":["module.exports = require(\"core-js/library/fn/object/get-own-property-descriptor\");","module.exports = require(\"core-js/library/fn/object/get-own-property-symbols\");","import _Object$getOwnPropertyDescriptor from \"../../core-js/object/get-own-property-descriptor\";\nimport _Object$getOwnPropertySymbols from \"../../core-js/object/get-own-property-symbols\";\nimport _Object$keys from \"../../core-js/object/keys\";\nimport defineProperty from \"./defineProperty\";\nexport default function _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    var ownKeys = _Object$keys(source);\n\n    if (typeof _Object$getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(_Object$getOwnPropertySymbols(source).filter(function (sym) {\n        return _Object$getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}","require('../../modules/es6.object.get-own-property-descriptor');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function getOwnPropertyDescriptor(it, key) {\n  return $Object.getOwnPropertyDescriptor(it, key);\n};\n","require('../../modules/es6.symbol');\nmodule.exports = require('../../modules/_core').Object.getOwnPropertySymbols;\n","// 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\nvar toIObject = require('./_to-iobject');\nvar $getOwnPropertyDescriptor = require('./_object-gopd').f;\n\nrequire('./_object-sap')('getOwnPropertyDescriptor', function () {\n  return function getOwnPropertyDescriptor(it, key) {\n    return $getOwnPropertyDescriptor(toIObject(it), key);\n  };\n});\n","import React, { Component } from \"react\";\nimport factory from \"../ethereum/factoryContract\";\nimport Layout from \"../components/layouts\";\nimport Router from \"next/router\";\nimport { getUserData, login, validate } from \"../services/authentication\";\nimport App, { Container } from \"next/app\";\n\nexport default class MyApp extends App {\n  static async getInitialProps() {\n    const blockchainProjects = await factory.methods\n      .getDeployedCampaigns()\n      .call();\n    return { blockchainProjects };\n  }\n\n  componentDidMount() {\n    const projectsURL = \"http://localhost:3000/projects\";\n    return fetch(projectsURL)\n      .then(resp => resp.json())\n      .then(resp => this.setState({ allProjects: resp }));\n  }\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      userData: {\n        id: 17,\n        first_name: \"Francisco\",\n        last_name: \"Costa\",\n        email: \"francisco@fcosta.pt\",\n        projects: [\n          {\n            title: \"Test Project\",\n            description:\n              \"This a test project in order to check if the API is working or not. Let's hope it is...\",\n            goal: 1000,\n            status: \"created\"\n          }\n        ]\n      },\n      selectedProject: {},\n      allProjects: {}\n    };\n  }\n\n  loggedIn = token => {\n    localStorage.setItem(\"token\", token);\n    getUserData().then(resp => {\n      this.setState({ userdata: resp });\n    });\n    Router.push(\"/\");\n  };\n\n  logout = () => {\n    this.setState({\n      userdata: {\n        first_name: \"\",\n        last_name: \"\",\n        email: \"\",\n        projects: []\n      }\n    });\n    localStorage.removeItem(\"token\");\n    Router.push(\"/login\");\n  };\n\n  deployProject = project => {\n    this.setState({ allProjects: [...this.state.allProjects, project] });\n  };\n\n  selectProject = project => {\n    this.setState({ selectedProject: { ...this.state.project, project } });\n  };\n\n  getNewProjectBlockchainAddress = async function() {\n    const blockchainProjects = await factory.methods\n      .getDeployedCampaigns()\n      .call();\n    this.setState({ blockchainProjects: blockchainProjects });\n  };\n\n  render() {\n    const { Component } = this.props;\n    return (\n      <Layout\n        userData={this.state.userData}\n        logout={this.logout}\n        selectProject={this.selectProject}>\n        <Component\n          blockchainProjects={this.props.blockchainProjects}\n          userData={this.state.userData}\n          login={this.loggedIn}\n          selectedProject={this.state.selectedProject}\n          selectProject={this.selectProject}\n          getNewProjectBlockchainAddress={this.getNewProjectBlockchainAddress}\n          allProjects={this.state.allProjects}\n        />\n      </Layout>\n    );\n  }\n}\n"],"mappings":";;;;;;;;;AAAA;;;;;;;;;;;ACAA;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACtBA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACJA;AACA;;;;;;;;;;;;ACDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;AAQA;AAAA;AACA;AAAA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;;;;;;;;;;;;;AAXA;AACA;;AADA;AAGA;AAAA;AAAA;AACA;;;;;;;;;;;;;;;;;AASA;AAAA;AACA;AADA;AACA;AAAA;AACA;AAFA;AAyBA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AA/BA;AAiCA;AACA;AACA;AACA;AACA;AACA;AAJA;AADA;AACA;AAOA;AACA;AACA;AACA;AA5CA;AA8CA;AAAA;AAAA;AACA;AACA;AAhDA;AAkDA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AApDA;AAAA;AAAA;AAAA;AAAA;AAqDA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AACA;AAGA;AAAA;AAAA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAnDA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AALA;AANA;AAeA;AACA;AAjBA;AAHA;AAsBA;AACA;;;AAqCA;AAAA;AAEA;AAEA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AAWA;;;;AA7FA;AACA;;;;;A","sourceRoot":""}